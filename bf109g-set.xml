<?xml version="1.0"?>
<!--
************************************************************************
Bf 109 simulation config.

February 2006,  Detlef Faber
************************************************************************
-->

<PropertyList>

 <sim>

  <description>Messerschmitt BF-109 G14</description>
  <author>Detlef Faber</author>
  <status>beta</status>
  <startup>
    <splash-texture>Aircraft/bf109/bf109-splash.rgb</splash-texture>
  </startup>
  
  <flight-model>yasim</flight-model>
  <aero>bf109g-yasim</aero>
  <fuel-fraction>0.75</fuel-fraction>

  <systems>
   <electrical>
    <path>Aircraft/Generic/generic-electrical.xml</path>
   </electrical>
  </systems> 
 
  <virtual-cockpit archive="y">true</virtual-cockpit>
  <allow-toggle-cockpit archive="y">true</allow-toggle-cockpit>

  <sound>
   <path>Aircraft/p51d/p51d-sound.xml</path>
  </sound>

  <submodels> 
    <serviceable type="bool">true</serviceable>
    <path>Aircraft/bf109/Models/submodels.xml</path>
  </submodels>

  <panel>
  <path>Aircraft/Generic/Panels/generic-vfr-panel.xml</path>
  <visibility>false</visibility>
  </panel>

  <model>
   <path>Aircraft/bf109/Models/bf109g-model.xml</path>
   <livery>
     <variant type="string">Default</variant>
     <material>
       <fuselage>
         <texture>bf109-1.rgb</texture>
       </fuselage>
       <leftwing>
           <texture>bf109-2.rgb</texture>
       </leftwing>
       <rightwing>
           <texture>bf109-3.rgb</texture>
       </rightwing>
       <horstab>
           <texture>bf109-4.rgb</texture>
         </horstab>
     </material>
   </livery>
  </model> 

  <view n="0">
   <internal archive="y">true</internal>
   <config>
    <x-offset-m archive="y" type="double">0.0</x-offset-m>
    <y-offset-m archive="y" type="double">0.6</y-offset-m>
    <z-offset-m archive="y" type="double">3.75</z-offset-m>
    <pitch-offset-deg>-7.5</pitch-offset-deg>
   </config>
  </view>

  <view n="1">
   <config>
    <target-z-offset-m archive="y" type="double">3.349</target-z-offset-m>
   </config>
  </view>

  <view n="2">
   <config>
    <target-z-offset-m archive="y" type="double">3.349</target-z-offset-m>
   </config>
  </view>

  <view n="3">
   <config>
    <target-z-offset-m archive="y" type="double">3.349</target-z-offset-m>
   </config>
  </view>

  <view n="4">
   <config>
    <target-z-offset-m archive="y" type="double">3.349</target-z-offset-m>
   </config>
  </view>

 <autopilot>
   <config>
     <min-climb-speed-kt type="float">70.0</min-climb-speed-kt>
     <best-climb-speed-kt type="float">75.0</best-climb-speed-kt>
     <target-climb-rate-fpm type="float">500.0</target-climb-rate-fpm>
     <target-descent-rate-fpm type="float">1000.0</target-descent-rate-fpm>
     <elevator-adj-factor type="float">4000.0</elevator-adj-factor>
     <integral-contribution type="float">0.01</integral-contribution>
     <zero-pitch-throttle type="float">0.45</zero-pitch-throttle>
     <zero-pitch-trim-full-throttle type="float">0.14</zero-pitch-trim-full-throttle>
   </config>
 </autopilot>

  <hud>
   <enable3d>false</enable3d>
  </hud>  

    <help>
    <key>
      <name>Ctrl-l</name>
      <desc>toggle Tailwheel Lock</desc>
    </key>
    <key>
      <name>C</name>
      <desc>toggle Canopy</desc>
    </key>
   <key>
      <name>N</name>
      <desc>Propeller Coarse</desc>
    </key>
   <key>
      <name>n</name>
      <desc>Propeller Fine</desc>
    </key>
   <key>
      <name>l</name>
      <desc>Livery Select</desc>
    </key>
   <key>
      <name>ctrl-d</name>
      <desc>Drop (external) Tank</desc>
    </key>
   <key>
      <name>m/M</name>
      <desc>Toggle Master Arm on/off</desc>
    </key>
   <key>
      <name>e</name>
      <desc>Fire MG</desc>
    </key>
   <key>
      <name>E</name>
      <desc>Fire Engine Cannon</desc>
    </key>
   <key>
      <name>ctrl-e</name>
      <desc>Drop Bomb</desc>
    </key>
   <key>
      <name>H</name>
      <desc>Fire WGR 21</desc>
    </key>
    <text>Use the Equipment-Fuel and Payload Dialog to select external Stores. l toggles the Livery select Dialog

---Take Off---
Flaps down 20 degrees, Take off at 1.1 ata Manifold Pressure. Lift Tailwheel at 120-150 km/h. Be prepared to use Aileron against Torque and Rudder to counteract Swing. Lift Off at 190-200 km/h.
Climb with 1.1 ata (Max Continous Power) 1.3 ata is limited to 30 min.

---Landing---
lower Flaps and Gear under 300 km/h. Approach Speed is 200 km/h. A curved Approach is recommended, because visibility on Final is bad. Speed at Treshold should be 175 km/h. Flare to Threepoint attitude before touchdown. After Touchdown use Rudder to keep the Aircraft straight.
Don't forget to release Tailwheel lock (Ctrl-l) before taxiing off the Runway.</text>
  </help>


  <weight n="0">
      <name>Fuselage</name>
      <tank>1</tank>
      <weight-lb>0</weight-lb>
      <selected>none</selected>
      <opt><name>none</name><lbs>0</lbs></opt>
      <opt><name>Droptank</name>
      <lbs>50.0</lbs>
	<gals>86</gals>
      </opt>
      <opt><name>SC250 Bomb</name>
      <lbs>552.0</lbs>
      </opt>
  </weight>

  <weight n="1">
      <name>left Wing</name>
      <weight-lb type="double">0</weight-lb>
      <selected>none</selected>
      <opt><name>none</name><lbs>0</lbs></opt>
      <opt><name>MG 151 Machine gun</name>
      <lbs>110.0</lbs>
      </opt>
      <opt><name>WGr 21 Rocket</name>
      <lbs>270.0</lbs>
      </opt>
  </weight>

  <weight n="2">
      <name>right Wing</name>
      <weight-lb type="double">0</weight-lb>
      <selected>none</selected>
      <opt><name>none</name><lbs>0</lbs></opt>
      <opt><name>MG 151 Machine gun</name>
      <lbs>110.0</lbs>
      </opt>
      <opt><name>WGr 21 Rocket</name>
      <lbs>270.0</lbs>
      </opt>
  </weight>

 </sim>

 <engines>
  <engine>
   <rpm type="double">700</rpm>
   <!-- fake unimplemented settings -->
   <fuel-pump-psi type="double">18</fuel-pump-psi>
   <oil-pressure-psi type="double">75</oil-pressure-psi>
  </engine>
 </engines>

 <consumables>
  <fuel>
   <tank n="0">
    <name>Internal</name>
   </tank>
   <tank n="1">
    <name>Droptank</name>
    <selected type="bool">false</selected>
   </tank>
  </fuel>
 </consumables>

 <!-- set prop for the manual "bookmark" arrow on the remote compas -->
 <instrumentation>
    <magnetic-compass>
       <bookmark-heading-deg type="double">43.0</bookmark-heading-deg>
    </magnetic-compass>
 </instrumentation>

 <!-- set up control properties for YASim -->
 <controls>
   <engines>
      <engine n="0">
        <magnetos>3</magnetos>
        <boost type="double">0.0</boost>
      </engine>
   </engines>
   <gear>
      <tailwheel-lock>true</tailwheel-lock>
      <bellybrake type="float">1.0</bellybrake>
   </gear>

   <armament>
      <trigger type="bool">false</trigger>
   </armament>
   <!-- The Bf 109 has no aileron or rudder trim controls -->
   <flight>
      <aileron-trim>0.045</aileron-trim>
   </flight>



   <fuel>
     <switch-position type = "int">0</switch-position>
     <tank n="0">
       <fuel_selector>true</fuel_selector>
     </tank>
     <tank n="1">
       <fuel_selector>true</fuel_selector>
     </tank>  
   </fuel>


 </controls>
 <!-- Map Keys -->
 <input>
    <keyboard>
      <key n="12"> 
          <name>Ctrl-L</name>
          <desc>Toggle Tailwheel Lock.</desc>
          <binding> 
            <command>property-toggle</command>
            <property>controls/gear/tailwheel-lock</property>
          </binding>
      </key>

      <key n="67">
        <name>C</name>
        <desc>Toggle Canopy</desc>
        <binding n="0">
          <command>nasal</command>
          <script>bf109.toggle_canopy()</script>
        </binding>
      </key>

      <key n="68">
        <name>D</name>
        <desc>Toggle Canopy</desc>
        <binding n="0">
          <command>nasal</command>
          <script>bf109.toggle_revi()</script>
        </binding>
      </key>

      <key n="4">
        <name>Ctrl-d</name>
        <desc>drop Tank</desc>
        <binding>
          <command>nasal</command>
          <script>bf109.drop_tank()</script>
        </binding>
      </key>  
      <key n="109"> 
        <name>m</name>
        <desc>Toggle Master Arm on</desc>
        <binding> 
          <command>property-adjust</command>
          <property>/controls/armament/master-arm</property>
          <step type="double">1</step>
          <min type="double">0</min>
          <max type="double">1</max>
        </binding>
      </key>
      <key n="77"> 
        <name>M</name>
        <desc>Toggle Master Arm off</desc>
        <binding> 
          <command>property-adjust</command>
          <property>/controls/armament/master-arm</property>
          <step type="double">-1</step>
          <min type="double">0</min>
          <max type="double">1</max>
        </binding>
      </key>
      <key n="101">
        <name>e</name>
        <desc>Fire MG</desc>
        <binding>
          <command>nasal</command>
          <script>bf109.fire_MG()</script>
        </binding>
        <mod-up>
          <binding>
            <command>nasal</command>
            <script>bf109.stop_MG()</script>
          </binding>
        </mod-up>
      </key>

      <key n="69">
        <name>E</name>
        <desc>fire engine Cannon</desc>
        <binding>
          <command>nasal</command>
          <script>bf109.fire_cannon()</script>
        </binding>
        <mod-up>
          <binding>
            <command>nasal</command>
            <script>bf109.stop_cannon()</script>
          </binding>
        </mod-up>
      </key>

      <key n="5">
        <name>Ctrl-e</name>
        <desc>drop Center Load</desc>
        <binding>
          <command>nasal</command>
          <script>bf109.drop_bomb()</script>
        </binding>
      </key>  
      <key n="102">
        <name>f</name>
        <desc>fuel tank select</desc>
        <binding>
        <command>nasal</command>
        <script>bf109.fuel_switch()</script>
  </binding>
  </key> 

      <key n="72">
        <name>H</name>
        <desc>Fire WGr 21</desc>
          <binding n="0">
          <command>nasal</command>
          <script>bf109.fire_wgr()</script>
        </binding>
      </key>
     <key n="32">
      <name>SPACE</name>
      <binding>
        <command>nasal</command>
        <script>bf109.starter(1)</script>
      </binding>
      <mod-up>
       <binding>
         <command>nasal</command>
         <script>bf109.starter(0)</script>
       </binding>
      </mod-up>
 </key> 
      <!-- Livery Box -->
         <key n="108">
            <name>l</name>
            <desc>Show livery select dialog</desc>
              <binding>
                <command>nasal</command>
                <script>livery.showModelSelectDialog()</script>
              </binding>
         </key>
     </keyboard>
 </input>

<!-- Nasal files/scripts -->
  <nasal>
    <bf109>
      <file>Aircraft/bf109/bf109.nas</file>
      <script>ext_slats();</script>
    </bf109>

    <pilot-g>
     <file>Aircraft/bf109/pilot-g.nas</file>
    </pilot-g>

    <livery>
      <file>Aircraft/bf109/Models/livery.nas</file>
    </livery>
  </nasal>


</PropertyList>




